{"ast":null,"code":"export var jsonToCsv=function jsonToCsv(json){var setObj=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){};if(json!==\"\"){try{var parsedJson=JSON.parse(json);setObj(parsedJson);var obj={count:2,items:parsedJson};var header=Object.keys(obj.items[0]).join(\",\");var body=obj.items.map(function(element){return Object.values(element).join(\",\");}).join(\"n\");return{header:header,body:body};}catch(e){console.log(\"error\",e);return;}}else{return;}};","map":{"version":3,"sources":["/Users/rodrigo/Desktop/json2csv/json2csv/src/utils/JsonToCsv/index.tsx"],"names":["jsonToCsv","json","setObj","parsedJson","JSON","parse","obj","count","items","header","Object","keys","join","body","map","element","values","e","console","log"],"mappings":"AAEA,MAAO,IAAMA,CAAAA,SAAoB,CAAG,QAAvBA,CAAAA,SAAuB,CAACC,IAAD,CAA6B,IAAtBC,CAAAA,MAAsB,2DAAb,UAAM,CAAE,CAAK,CAC/D,GAAID,IAAI,GAAK,EAAb,CAAiB,CACf,GAAI,CACF,GAAME,CAAAA,UAAU,CAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAAnB,CACAC,MAAM,CAACC,UAAD,CAAN,CACA,GAAMG,CAAAA,GAAG,CAAG,CAAEC,KAAK,CAAE,CAAT,CAAYC,KAAK,CAAEL,UAAnB,CAAZ,CAEA,GAAMM,CAAAA,MAAM,CAAGC,MAAM,CAACC,IAAP,CAAYL,GAAG,CAACE,KAAJ,CAAU,CAAV,CAAZ,EAA0BI,IAA1B,CAA+B,GAA/B,CAAf,CAEA,GAAMC,CAAAA,IAAI,CAAGP,GAAG,CAACE,KAAJ,CACVM,GADU,CACN,SAACC,OAAD,QAAkBL,CAAAA,MAAM,CAACM,MAAP,CAAcD,OAAd,EAAuBH,IAAvB,CAA4B,GAA5B,CAAlB,EADM,EAEVA,IAFU,CAEL,GAFK,CAAb,CAIA,MAAO,CAAEH,MAAM,CAANA,MAAF,CAAUI,IAAI,CAAJA,IAAV,CAAP,CACD,CAAC,MAAOI,CAAP,CAAU,CACVC,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBF,CAArB,EACA,OACD,CACF,CAjBD,IAiBO,CACL,OACD,CACF,CArBM","sourcesContent":["import { JsonToCsv } from \"./types\";\n\nexport const jsonToCsv: JsonToCsv = (json, setObj = () => {}) => {\n  if (json !== \"\") {\n    try {\n      const parsedJson = JSON.parse(json);\n      setObj(parsedJson);\n      const obj = { count: 2, items: parsedJson };\n\n      const header = Object.keys(obj.items[0]).join(\",\");\n\n      const body = obj.items\n        .map((element: any) => Object.values(element).join(\",\"))\n        .join(\"n\");\n\n      return { header, body };\n    } catch (e) {\n      console.log(\"error\", e);\n      return;\n    }\n  } else {\n    return;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}