{"ast":null,"code":"import _slicedToArray from\"/Users/rodrigo/Desktop/json2csv/json2csv/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Input from\"../../components/Input\";import Output from\"../../components/Output\";import{Container}from\"./styles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),json=_useState2[0],setJson=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),csv=_useState4[0],setCsv=_useState4[1];var onChange=function onChange(text){setJson(text);};var onConvert=function onConvert(){// e.preventDefault();\nif(json!==\"\"){try{var parsedJson=JSON.parse(json);var header=Object.keys(parsedJson.items[0]).join(\",\");var body=parsedJson.items.map(function(j){return Object.values(j).join(\",\");}).join(\"n\");setCsv(\"\".concat(header,\"\\n\").concat(body));}catch(error){console.log(\"error\",error);alert(\"JSON inv치lido. Por favor, entre com um JSON v치lido.\");}}else{alert(\"Campo vazio. Por favor, entre com um JSON antes de prosseguir.\");}};var onClean=function onClean(){setJson(\"\");setCsv(\"\");};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Input,{onChange:onChange,value:json,onConvert:onConvert,onClean:onClean}),csv&&/*#__PURE__*/_jsx(Output,{csv:csv})]});};export default Home;","map":{"version":3,"sources":["/Users/rodrigo/Desktop/json2csv/json2csv/src/screens/Home/index.tsx"],"names":["React","useState","Input","Output","Container","Home","json","setJson","csv","setCsv","onChange","text","onConvert","parsedJson","JSON","parse","header","Object","keys","items","join","body","map","j","values","error","console","log","alert","onClean"],"mappings":"8HAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,wBAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CAEA,OAASC,SAAT,KAA0B,UAA1B,C,wFAEA,GAAMC,CAAAA,IAAc,CAAG,QAAjBA,CAAAA,IAAiB,EAAM,CAC3B,cAAwBJ,QAAQ,CAAS,EAAT,CAAhC,wCAAOK,IAAP,eAAaC,OAAb,eACA,eAAsBN,QAAQ,CAAS,EAAT,CAA9B,yCAAOO,GAAP,eAAYC,MAAZ,eAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,IAAD,CAAkB,CACjCJ,OAAO,CAACI,IAAD,CAAP,CACD,CAFD,CAIA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB;AACA,GAAIN,IAAI,GAAK,EAAb,CAAiB,CACf,GAAI,CACF,GAAMO,CAAAA,UAAU,CAAGC,IAAI,CAACC,KAAL,CAAWT,IAAX,CAAnB,CAEA,GAAMU,CAAAA,MAAM,CAAGC,MAAM,CAACC,IAAP,CAAYL,UAAU,CAACM,KAAX,CAAiB,CAAjB,CAAZ,EAAiCC,IAAjC,CAAsC,GAAtC,CAAf,CACA,GAAMC,CAAAA,IAAI,CAAGR,UAAU,CAACM,KAAX,CACVG,GADU,CACN,SAACC,CAAD,QAAYN,CAAAA,MAAM,CAACO,MAAP,CAAcD,CAAd,EAAiBH,IAAjB,CAAsB,GAAtB,CAAZ,EADM,EAEVA,IAFU,CAEL,GAFK,CAAb,CAIAX,MAAM,WAAIO,MAAJ,cAAeK,IAAf,EAAN,CACD,CAAC,MAAOI,KAAP,CAAc,CACdC,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBF,KAArB,EACAG,KAAK,CAAC,qDAAD,CAAL,CACD,CACF,CAdD,IAcO,CACLA,KAAK,CAAC,gEAAD,CAAL,CACD,CACF,CAnBD,CAqBA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpBtB,OAAO,CAAC,EAAD,CAAP,CACAE,MAAM,CAAC,EAAD,CAAN,CACD,CAHD,CAKA,mBACE,MAAC,SAAD,yBACE,KAAC,KAAD,EACE,QAAQ,CAAEC,QADZ,CAEE,KAAK,CAAEJ,IAFT,CAGE,SAAS,CAAEM,SAHb,CAIE,OAAO,CAAEiB,OAJX,EADF,CAOGrB,GAAG,eAAI,KAAC,MAAD,EAAQ,GAAG,CAAEA,GAAb,EAPV,GADF,CAWD,CA7CD,CA+CA,cAAeH,CAAAA,IAAf","sourcesContent":["import React, { useState } from \"react\";\nimport Input from \"../../components/Input\";\nimport Output from \"../../components/Output\";\n\nimport { Container } from \"./styles\";\n\nconst Home: React.FC = () => {\n  const [json, setJson] = useState<string>(\"\");\n  const [csv, setCsv] = useState<string>(\"\");\n\n  const onChange = (text: string) => {\n    setJson(text);\n  };\n\n  const onConvert = () => {\n    // e.preventDefault();\n    if (json !== \"\") {\n      try {\n        const parsedJson = JSON.parse(json);\n\n        const header = Object.keys(parsedJson.items[0]).join(\",\");\n        const body = parsedJson.items\n          .map((j: any) => Object.values(j).join(\",\"))\n          .join(\"n\");\n\n        setCsv(`${header}\\n${body}`);\n      } catch (error) {\n        console.log(\"error\", error);\n        alert(\"JSON inv치lido. Por favor, entre com um JSON v치lido.\");\n      }\n    } else {\n      alert(\"Campo vazio. Por favor, entre com um JSON antes de prosseguir.\");\n    }\n  };\n\n  const onClean = () => {\n    setJson(\"\");\n    setCsv(\"\");\n  };\n\n  return (\n    <Container>\n      <Input\n        onChange={onChange}\n        value={json}\n        onConvert={onConvert}\n        onClean={onClean}\n      />\n      {csv && <Output csv={csv} />}\n    </Container>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}